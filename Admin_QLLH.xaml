<UserControl x:Class="Do_An.Admin_QLPH"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="#f5f7fa">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" CornerRadius="10" Margin="0,0,0,15">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                    <GradientStop Color="#43A047" Offset="0"/>
                    <GradientStop Color="#2E7D32" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>

            <DockPanel Margin="12">
                <TextBlock Text="🏫 Quản lý lớp học"
                           Foreground="White"
                           FontSize="22"
                           FontWeight="Bold"
                           VerticalAlignment="Center"
                           DockPanel.Dock="Left"/>

                <!-- Ô tìm kiếm -->
                <Border Background="White" CornerRadius="20" Padding="6" DockPanel.Dock="Right">
                    <DockPanel>
                        <TextBox x:Name="txtSearch"
                                 Width="220" Height="28"
                                 BorderThickness="0"
                                 FontSize="14"
                                 Background="Transparent"
                                 ToolTip="Tìm kiếm lớp học"
                                 TextChanged="txtSearch_TextChanged"/>
                        <TextBlock Text="🔍" VerticalAlignment="Center" Margin="6,0,0,0"/>
                    </DockPanel>
                </Border>
            </DockPanel>
        </Border>

        <!-- DataGrid hiển thị -->
        <Border Grid.Row="1" Background="White" CornerRadius="12" BorderBrush="#ddd" BorderThickness="1">
            <DataGrid x:Name="dgLopHoc"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      IsReadOnly="True"
                      RowHeight="40"
                      AlternatingRowBackground="#f0f6ff"
                      GridLinesVisibility="Horizontal"
                      HeadersVisibility="Column"
                      FontSize="14"
                      Margin="10"
                      BorderThickness="0"
                      SelectionMode="Single"
                      SelectionUnit="FullRow">

                <DataGrid.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#e8f5e9"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="BorderBrush" Value="#ccc"/>
                        <Setter Property="BorderThickness" Value="0,0,0,1"/>
                        <Setter Property="Padding" Value="8"/>
                    </Style>
                    <Style TargetType="DataGridRow">
                        <Setter Property="Cursor" Value="Hand"/>
                        <Setter Property="Background" Value="White"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#dcedc8"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#81c784"/>
                                <Setter Property="Foreground" Value="Black"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.Resources>

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Tên lớp" Binding="{Binding TenLop}" Width="2*"/>
                    <DataGridTextColumn Header="Giáo viên phụ trách" Binding="{Binding GiaoVien}" Width="2*"/>
                    <DataGridTextColumn Header="Số Học Viên" Binding="{Binding SiSo}" Width="*"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Nút chức năng -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
            <Button Content="➕ Thêm" Width="120" Height="38" Margin="10,0"
                    Background="#43A047" Foreground="White" FontWeight="Bold"
                    BorderThickness="0" Cursor="Hand" Click="btnThem_Click"/>
            <Button Content="✏ Sửa" Width="120" Height="38" Margin="10,0"
                    Background="#1E88E5" Foreground="White" FontWeight="Bold"
                    BorderThickness="0" Cursor="Hand" Click="btnSua_Click"/>
            <Button Content="🗑 Xóa" Width="120" Height="38" Margin="10,0"
                    Background="#E53935" Foreground="White" FontWeight="Bold"
                    BorderThickness="0" Cursor="Hand" Click="btnXoa_Click"/>
        </StackPanel>
    </Grid>
</UserControl>
